apply plugin: 'java'
apply plugin: 'maven'

version = dxVersion
group = 'com.android'

dependencies {
  compile 'com.android:dex:debian'
}

sourceSets {
  main {
    java { srcDir '../dx/src' }
  }
}

jar {
  manifest {
    from '../dx/etc/manifest.txt'
    attributes 'Class-Path': '/usr/share/java/com.android.dex.jar'
  }
}

javadoc {
  options {
    links 'file:///usr/share/doc/default-jdk-doc/api'
  }
}

task generatePom {
  assemble.dependsOn generatePom
  outputs.files "${buildDir}/*.pom"
  doFirst {
    pom { project {} }.writeTo("${buildDir}/${project.name}.pom")
    pom {
      project { groupId 'com.android.jack'}
    }.writeTo("${buildDir}/jack-dx.pom")
  }
  clean.doLast { delete("${buildDir}/${project.name}.pom") }
}

