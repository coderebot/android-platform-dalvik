apply plugin: 'java'
apply plugin: 'maven'

version = DX_VERSION
group = 'com.android'

dependencies {
  compile 'com.android:dex:debian'
}

sourceSets {
  main {
    java { srcDir '../dx/src' }
  }
}

jar {
  manifest {
    from '../dx/etc/manifest.txt'
    attributes 'Class-Path': '/usr/share/java/com.android.dex.jar'
  }
}

task jackDxPom {
  outputs.files "${buildDir}/debian/jack-dx.pom"
  doFirst {
    pom {
      project { groupId 'com.android.jack'}
    }.writeTo("${buildDir}/debian/jack-dx.pom")
  }
}

defaultTasks 'assemble', 'jackDxPom'